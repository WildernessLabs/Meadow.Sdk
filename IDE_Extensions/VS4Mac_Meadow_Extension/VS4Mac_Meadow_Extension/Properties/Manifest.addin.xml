<?xml version="1.0" encoding="UTF-8"?>
<ExtensionModel>
    <Runtime>
        <Import file = "Templates/MeadowConsoleProject.xpt.xml" />    
    </Runtime>
    
    <Extension path="/MonoDevelop/Ide/ProjectTemplateCategories">
        <Category id="meadow" _name="Meadow" insertbefore="other">
            <Category id="app" _name="App">
                <Category id="general" _name="General" />
            </Category>
            <Category id="library" _name="Library">
                <Category id="general" _name="General" />
            </Category>
            <Category id="test" _name="Tests">
                <Category id="general" _name="General" />
            </Category>
        </Category>
    </Extension>
    
    <!-- old way using the xpt.xml file -->
    <Extension path = "/MonoDevelop/ProjectModel/ProjectModelExtensions">
        <ProjectFlavor
            guid="{8899359e-94ec-4446-90d3-aab4be805b4b}"
            type="Meadow.Sdks.IdeExtensions.Vs4Mac.MeadowProject"
            alias="Meadow"
            />
    </Extension>
    
     <Extension path="/MonoDevelop/Ide/ProjectTemplates">
        <ProjectTemplate id="MeadowConsoleProject" file="Templates/MeadowConsoleProject.xpt.xml" />
    </Extension>
    
    <!-- new way using a nupkg, we can replace the local copy with a url -->
    <Extension path="/MonoDevelop/Ide/Templates">
        <Template
            id="WildernessLabs.Meadow.Templates.BasicApp"
            templateId="WildernessLabs.Meadow.Templates.BasicApp"
            _overrideName="Meadow Application"
            _overrideDescription="Creates a new Meadow project."
            path="Templates/Meadow.Sdk.Templates.0.1.0.nupkg"
            category="meadow/app/general"
            />
    </Extension>
    
    <Extension path = "/MonoDevelop/ProjectModel/SerializableClasses">
        <DataType class = "Meadow.Sdks.IdeExtensions.Vs4Mac.MeadowProject" />
    </Extension>
    
    <!-- This connects to the old project type via the id - not sure how to connect it with the new style -->
    <Extension path = "/MonoDevelop/Core/ExecutionHandlers">
        <ExecutionHandler id="Meadow" class = "Meadow.Sdks.IdeExtensions.Vs4Mac.MeadowExecutionHandler"/>
    </Extension>
</ExtensionModel>